<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fables de la Fontaine</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Dynalight&family=Instrument+Serif:ital@0;1&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="fable-1-body">
    <main class="fable-1">
      <div>
        <h1 class="fable-title">Le lièvre et la tortue</h1>
        <audio src="audios/forest.mp3" autoplay loop></audio>
        <div class="buttons-container">
          <button id="hare-btn" class="animal-btn">
            <img src="images/hare.png" />
          </button>
          <button id="turtle-btn" class="animal-btn">
            <img src="images/turtle.png" />
          </button>
        </div>
      </div>
      <div class="fable-text-container" id="fable-text-container">
        <div class="fable-text-content" id="fable-text-content">
          <p class="fable-text">
            Rien ne sert de courir ; il faut partir à point.<br />
            Le Lièvre et la Tortue en sont un témoignage.<br />Gageons , dit
            celle-ci, que vous n'atteindrez point<br />Sitôt que moi ce but. -
            Sitôt ? Êtes-vous sage ?<br />Repartit l'animal léger.<br />Ma
            commère, il vous faut purger<br />Avec quatre grains d'ellébore .<br />—
            Sage ou non, je parie encore.<br />Ainsi fut fait : et de tous
            deux<br />On mit près du but les enjeux :<br />Savoir quoi, ce n'est
            pas l'affaire,<br />Ni de quel juge l'on convint.<br />Notre Lièvre
            n'avait que quatre pas à faire ;<br />J'entends de ceux qu'il fait
            lorsque prêt d'être atteint<br />Il s'éloigne des chiens, les
            renvoie aux Calendes,<br />Et leur fait arpenter les landes.<br />Ayant,
            dis-je, du temps de reste pour brouter,<br />Pour dormir, et pour
            écouter<br />D'où vient le vent, il laisse la Tortue<br />Aller son
            train de Sénateur.<br />Elle part, elle s'évertue ;<br />Elle se
            hâte avec lenteur.<br />Lui cependant méprise une telle victoire,<br />Tient
            la gageure à peu de gloire,<br />Croit qu'il y va de son honneur<br />De
            partir tard. Il broute, il se repose,<br />Il s'amuse à toute autre
            chose<br />Qu'à la gageure. A la fin quand il vit<br />Que l'autre
            touchait presque au bout de la carrière,<br />Il partit comme un
            trait ; mais les élans qu'il fit<br />Furent vains : la Tortue
            arriva la première.<br />Eh bien ! lui cria-t-elle, avais-je pas
            raison ?<br />De quoi vous sert votre vitesse ?<br />Moi, l'emporter
            ! et que serait-ce<br />Si vous portiez une maison ?
          </p>
          <!-- Duplication pour effet de boucle -->
          <p class="fable-text">
            Rien ne sert de courir ; il faut partir à point.<br />
            Le Lièvre et la Tortue en sont un témoignage.<br />Gageons , dit
            celle-ci, que vous n'atteindrez point<br />Sitôt que moi ce but. -
            Sitôt ? Êtes-vous sage ?<br />Repartit l'animal léger.<br />Ma
            commère, il vous faut purger<br />Avec quatre grains d'ellébore .<br />—
            Sage ou non, je parie encore.<br />Ainsi fut fait : et de tous
            deux<br />On mit près du but les enjeux :<br />Savoir quoi, ce n'est
            pas l'affaire,<br />Ni de quel juge l'on convint.<br />Notre Lièvre
            n'avait que quatre pas à faire ;<br />J'entends de ceux qu'il fait
            lorsque prêt d'être atteint<br />Il s'éloigne des chiens, les
            renvoie aux Calendes,<br />Et leur fait arpenter les landes.<br />Ayant,
            dis-je, du temps de reste pour brouter,<br />Pour dormir, et pour
            écouter<br />D'où vient le vent, il laisse la Tortue<br />Aller son
            train de Sénateur.<br />Elle part, elle s'évertue ;<br />Elle se
            hâte avec lenteur.<br />Lui cependant méprise une telle victoire,<br />Tient
            la gageure à peu de gloire,<br />Croit qu'il y va de son honneur<br />De
            partir tard. Il broute, il se repose,<br />Il s'amuse à toute autre
            chose<br />Qu'à la gageure. A la fin quand il vit<br />Que l'autre
            touchait presque au bout de la carrière,<br />Il partit comme un
            trait ; mais les élans qu'il fit<br />Furent vains : la Tortue
            arriva la première.<br />Eh bien ! lui cria-t-elle, avais-je pas
            raison ?<br />De quoi vous sert votre vitesse ?<br />Moi, l'emporter
            ! et que serait-ce<br />Si vous portiez une maison ?
          </p>
        </div>
      </div>
    </main>

    <div class="forest" id="forest">
      <div class="forest-row" id="forest-row">
        <img src="images/tree1.png" class="tree" />
        <img src="images/tree2.png" class="tree" />
        <img src="images/tree3.png" class="tree" />
        <img src="images/tree5.png" class="tree" />
        <img src="images/tree6.png" class="tree" />
        <img src="images/tree7.png" class="tree" />
        <img src="images/rabbit.gif" class="tree rabbit-image" />
        <!-- Duplication pour effet de boucle -->
        <img src="images/tree1.png" class="tree" />
        <img src="images/tree2.png" class="tree" />
        <img src="images/tree3.png" class="tree" />
        <img src="images/tree5.png" class="tree" />
        <img src="images/tree6.png" class="tree" />
        <img src="images/tree7.png" class="tree" />
        <img src="images/rabbit.gif" class="tree rabbit-image" />
      </div>
    </div>

    <script>
      const hareBtn = document.getElementById('hare-btn');
      const turtleBtn = document.getElementById('turtle-btn');
      const textContainer = document.getElementById('fable-text-container');
      const forestRow = document.getElementById('forest-row');
      const rabbitImages = document.querySelectorAll('.rabbit-image');

      function selectAnimal(animal) {
        textContainer.classList.remove('scroll-hare', 'scroll-turtle');
        forestRow.classList.remove('animate-hare', 'animate-turtle');
        hareBtn.classList.remove('selected');
        turtleBtn.classList.remove('selected');

        if (animal === 'hare') {
          rabbitImages.forEach((img) => img.classList.remove('hidden'));
          hareBtn.classList.add('selected');
          textContainer.classList.add('scroll-hare');
          forestRow.classList.add('animate-hare');
        } else {
          rabbitImages.forEach((img) => img.classList.add('hidden'));
          turtleBtn.classList.add('selected');
          textContainer.classList.add('scroll-turtle');
          forestRow.classList.add('animate-turtle');
        }
      }

      hareBtn.addEventListener('click', () => selectAnimal('hare'));
      turtleBtn.addEventListener('click', () => selectAnimal('turtle'));

      selectAnimal('hare');
    </script>
  </body>
</html>
